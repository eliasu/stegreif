{{#
	@name next dates block
	@desc The next date block component.

    @ parameters 
        show_header (bool - shows headline and "all dates" link)
        show (int - limits the displayed items falls back to 6)
#}}

<!-- /components/_next_dates_block.antlers.html -->
<div class="flex flex-col fluid-container">
            
    {{# block header with lin to all dates #}}
    {{ if show_header }}
        <div class="flex flex-row flex-wrap items-center justify-between mb-20 md:px-12 gap-y-4 gap-x-8 lg:px-20">
            {{ partial:typography/h3 :content="headline_dates" class="text-skin-primary" }}
            {{ partial:components/button label="{ trans:strings.all_dates }" link_type="entry" :entry="all_dates_page" }}
        </div>
    {{ /if }}

    {{# date cards grid wrapper #}}
    <div class="grid grid-cols-1 md:px-12 gap-x-12 xs:grid-cols-2 xl:grid-cols-3 gap-y-20 2xl:gap-x-20 lg:px-20">
        
        {{# all dates #}}
        {{ collection:termine limit="{ show ?? '6' }" sort="date" show_past="false" }}
            <div class="flex flex-col items-start">

                {{# time #}}
                {{ if site:short_locale == "de" }} {{ partial:typography/p content="Ab { time format="H.i" } Uhr" class="mb-0 sm:mb-1" }}
                {{ else }} {{ partial:typography/p content={ time format="G.i a" } class="mb-0 xs:mb-1" }} {{ /if }}
                
                {{# date #}}
                {{ partial:typography/h3 content={ date iso_format="DD.MM.YYYY" } class="mb-4 sm:mb-6" }}
                
                {{# tags  #}}
                {{ related_programm }}
                    <div class="flex flex-wrap mb-4">
                        {{ related_reihe }}
                            {{ partial:typography/tag color="yellow" content="{ header_headline ?? title }" }}
                        {{ /related_reihe }}
                        {{ partial:typography/tag color="green" content="{ header_headline ?? title }" }}
                    </div>
                {{ /related_programm }}

                {{# headline or title fallback #}}
                {{ partial:typography/h4 content="{ header_headline ?? title }" class="mb-6 hyphens" }}
                
                {{# link to detail view #}}
                {{ partial:components/button button_type="lined_base" label="{ trans:strings.more }" link_type="url" entry="{ url }" }}
                
            </div>
        {{ /collection:termine }}

    </div>
</div>
<!-- End: /components/_next_dates_block.antlers.html -->